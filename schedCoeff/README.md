# Plot the scheduling coefficient heatmap #

This Python script takes the CSV output from the [SAFE Scheduling Coefficient](https://www.archer.ac.uk/safe/TransitionServlet/ReportTemplate//SchedulingCoefficient/-/Transition=View)
report and produces three images:

* A heatmap of the scheduling coefficient with the number of jobs in the 
boxes
* A heatmap of the scheduling coefficient with the number of jobs and the mean
wait time in the boxes
* A heatmap of the kAU use with the number of jobs in the boxes

## Dependencies ##

This is a Python 3 script.

You need numpy and matplotlib installed for the script to work. The easiest
way to meet this is to install the [Anaconda Python distribution](https://anaconda.org/).

## Usage ##

    python plot_sched_heatmap.py /path/to/sched/coeff.csv suffixtext

where coeff.csv is the file generated by the [SAFE Scheduling Coefficient report](https://www.archer.ac.uk/safe/TransitionServlet/ReportTemplate//SchedulingCoefficient/-/Transition=View)
and suffixtext is the text that will be appended to the output .png file names e.g. _2022_Q2

This version assumes ARCHER2 usage and reports the Usage in CUs but will also handle Cirrus usage by using the following 
- if csv filename contains "cpu" then assumes Cirrus CPUh and adjusts Size range and labels usage as CPUh
- if csv filename contains "gpu" then assumes Cirrus GPUhs and adjusts Size range and labels usage as GPUh


